<!DOCTYPE html>
<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      layout:decorator="layouts/site"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3"
      xmlns:layout="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8"/>
    <title>UMspreadsheet</title>

    <link rel="stylesheet" th:href="@{/css/newShow.css}" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/9.7.2/css/bootstrap-slider.min.css" />

</head>

<body>
    <div layout:fragment="content">
        <div id="#home-container" class="container">

            <div id="most-recent-show-header" th:object="${show}">
                <h2 id="show-title" th:text="${#dates.format(show.date, 'yyyy/MM/dd') + ' ' + show.city + ', '  + show.state}"></h2>
                <h3 class="hidden-md hidden-lg hidden-xl" th:text="${show.venue}" style="margin-top: 3px; margin-bottom: 2px;">[venue]</h3>
                <h2 id="show-rating-and-medal">
                    <i th:if="*{averageRating ge 6 and averageRating lt 7}" class="fa fa-trophy" style="color: #CD7F32;" aria-hidden="true"></i>
                    <i th:if="*{averageRating ge 7 and averageRating lt 8}" class="fa fa-trophy" style="color: #C0C0C0;" aria-hidden="true"></i>
                    <i th:if="*{averageRating ge 8 and averageRating lt 9}" class="fa fa-trophy" style="color: #FFD700;" aria-hidden="true"></i>
                    <i th:if="*{averageRating ge 9}" class="fa fa-diamond" style="color: #B9F2FF;" aria-hidden="true"></i>
                    <span th:if="*{averageRating != null}" th:text="*{#numbers.formatDecimal(averageRating, 1, 2)}">[0.00]</span>
                    <span th:if="*{averageRating == null}">No Rating</span>
                </h2>
                <h3 class="hidden-xs hidden-sm" th:text="${show.venue}" style="margin-top: 3px;">[venue]</h3>
                <p th:if="${show.nugsId != null}">
                    <a th:href="@{https://play.nugs.net/#/catalog/recording/} + ${show.nugsId}" data-ng-model="show.nugsId">
                        nugs.net
                    </a>
                </p>
                <p sec:authorize="hasRole('ROLE_MANAGE_SHOWS_PRIVILEGE')">
                    <a th:href="@{/admin/edit-show(showId=${show.id})}">
                        Edit show
                    </a>
                </p>
            </div>









        </div>
    </div>

    <th:block layout:fragment="script">

        <script type="text/javascript" th:inline="javascript">
            var showId = [[${show.id}]];
        </script>

        <script th:src="@{/webjars/angularjs/1.6.4/angular.min.js}"></script>
        <script th:src="@{/webjars/angular-route/1.6.4/angular-route.min.js}"></script>
        <script th:src="@{/webjars/angular-resource/1.6.4/angular-resource.min.js}"></script>

        <script th:src="@{/app/app.js}"></script>
        <script th:src="@{/app/services.js}"></script>
        <script th:src="@{/app/controllers.js}"></script>

    </th:block>
</body>
</html>